import{i as A,Z as R,r as y,T as D,h as C,d as n,a as e,b as w,w as _,j as S,f as u,t as i,e as d,l as m,H as U,n as p,G as g,F as L,g as P,O as H,o as a,q as B}from"./app-a152d005.js";import{D as M}from"./DashboardLaout-37c852a3.js";import{_ as V}from"./Modal-eeed03c0.js";import{_ as G}from"./ConfirmationModal-9779f05b.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const O="/build/assets/file_thumb-ec0180ae.png";const I={components:{DashboardLayout:M,Link:A,Head:R,Modal:V,ConfirmationModal:G},layout:M,props:{plan:Object,errors:Object,images:Object,files:Object},setup(h,t){const o=y(!1),s=y(!1),c=D({name:"1 Bedroom",price:"",style:"Apartments",roof_finish:"Simple Hip roof",bathrooms:1,bedrooms:1,levels:1,area:"",description:""}),f=y({show:0,title:"DELETE",content:"are you sure you want to delete this item?",id:null,url:null}),k=y("image"),v=D({file:null,name:null,type:"image",plan:h.plan.id}),b=D({file:null,name:null,type:"file",plan:h.plan.id}),x=y("");return{selectFile:r=>{k.value.click()},filePreview:(r,F)=>{F=="image"?(x.value=URL.createObjectURL(r.target.files[0]),v.file=r.target.files[0]):b.file=r.target.files[0]},imageUploadShow:o,fileUploadShow:s,imageForm:v,fileForm:b,imageUpload:()=>{H.post(route("image.store"),v,{onSuccess:r=>{o.value=0,v.reset(),v.plan=h.plan.id,x.value=""}})},uploadFile:()=>{console.log(b),H.post(route("file.store"),b,{onSuccess:r=>{s.value=0,b.reset(),b.plan=h.plan.id},onError:r=>{console.log(r.file),b.errors.file=r.file}})},deleteFile:()=>{H.delete(route(f.value.url,f.value.id.id),{onSuccess:()=>{f.value.show=0}})},confirmDelete:f,showConfirmDelete:(r,F)=>{f.value.title="DELETE "+r.name+" file?",f.value.content="are you sure you want to delete this item?",f.value.id=r,f.value.url=F,f.value.show=!0},image:k,preview:x,update:()=>{let r=h.plan;c.name=r.name,c.price=r.price,c.style=r.style,c.roof_finish=r.roof_finish,c.bathrooms=r.bathrooms,c.bedrooms=r.bedrooms,c.levels=r.levels,c.area=r.area,c.description=r.description,c.put(route("plans.update",h.plan))}}}},j={class:"max-w-7xl mx-auto px-2"},T={class:"flex justify-between gap-4 mb-4 place-items-center"},z=e("h1",{class:"md:text-2xl mb-4 flex-auto"},"EDIT PLAN",-1),q=e("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),Z=e("span",null,"Back to Plans",-1),J={class:"shadow-xs p-4 grid grid-cols-6 gap-4 bg-white/90 rounded mb-16"},K={class:"col-span-4"},Q={for:"name"},W={key:0,class:"text-red-600"},X=B('<option value="1 Bedroom">1 Bedroom</option><option value="2 Bedroom">2 Bedroom</option><option value="3 Bedroom">3 Bedroom</option><option value="4 Bedroom">4 Bedroom</option><option value="5 Bedroom">5 Bedroom</option><option value="6 Bedroom">6 Bedroom</option>',6),Y=[X],$={for:"price"},ee={key:0,class:"text-red-600"},oe={for:"style"},te={key:0,class:"text-red-600"},le=B('<option value="Commercial Buildinngs"> Commercial Buildinngs </option><option value="Apartments">Apartments</option><option value="Hostels and Lodges"> Hostels and Lodges </option><option value="Duplex Desings"> Duplex Desings </option><option value="Modern House Plans"> Modern House Plans </option><option value="Small Houses">Small Houses</option><option value="Beach House Plans"> Beach House Plans </option><option value="Contemporary House Plans"> Contemporary House Plans </option><option value="Meditaerranean House Plans"> Meditaerranean House Plans </option><option value="Farm House Plans"> Farm House Plans </option>',10),se=[le],re={for:"roof_finish",class:""},ne={key:0,class:"text-red-600"},ae=B('<option value="Gable roof">Gable roof</option><option value="Hip and valley roof"> Hip and valley roof </option><option value="Simple Hip roof"> Simple Hip roof </option><option value="Cross Hipped roof"> Cross Hipped roof </option><option value="Hexagonal roof"> Hexagonal roof </option><option value="Dutch Roof">Dutch Roof</option><option value="Open Gable Roof"> Open Gable Roof </option><option value="Cross Gable Roof"> Cross Gable Roof </option><option value="Mansard roof">Mansard roof</option><option value="Skillion and Lean to Roof"> Skillion and Lean to Roof </option><option value="Flat roof">Flat roof</option><option value="Shed roof">Shed roof</option><option value="Butterfly roof"> Butterfly roof </option><option value="Gambrel roof">Gambrel roof</option><option value="Dormer roof">Dormer roof</option><option value="M Shaped Roof">M Shaped Roof</option><option value="Front Gable Roof"> Front Gable Roof </option><option value="Curved Roof">Curved Roof</option>',18),ie=[ae],de={class:"col-span-2"},ue={for:"bedrooms"},ce={key:0,class:"text-red-600"},me={for:"bathrooms"},fe={key:0,class:"text-red-600"},be={for:"levels"},he={key:0,class:"text-red-600"},pe={for:"area"},ge={key:0,class:"text-red-600"},ve={class:"col-span-6"},_e={for:"description"},xe={key:0,class:"text-red-600"},ye={class:"text-right px-4 col-span-6"},we={class:"border rounded p-2 md:p-4 max-w-7xl mx-auto bg-white/40"},ke={class:"flex justify-between gap-4 mb-4 place-items-center"},Ce=e("h1",{class:"md:text-2xl mb-4 flex-auto"},"PLAN IMAGES",-1),Fe=e("i",{class:"fa-solid fa-plus mr-2"},null,-1),De=e("span",null,"Upload Image",-1),Se=[Fe,De],Ue={class:"thumb-cont grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Le=["alt","src"],He={class:"px-2"},Be=["onClick"],Ee=e("i",{class:"far fa-trash-can"},null,-1),Pe=[Ee],Me={class:"text-center"},Ae=e("label",{class:"text-teal-500"},"ADD IMAGE",-1),Re={class:"shadow-xs rounded p-2 md:p-4 border my-9 max-w-7xl mx-auto bg-white/90"},Ve={class:"flex justify-between gap-4 mb-4 place-items-center"},Ge=e("h1",{class:"md:text-2xl mb-4 flex-auto"},"PLAN FILES",-1),Ne=e("i",{class:"fa-solid fa-plus mr-2"},null,-1),Oe=e("span",null,"Upload File",-1),Ie=[Ne,Oe],je={class:"thumb-cont grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Te=["alt"],ze={class:"px-2"},qe=["onClick"],Ze=e("i",{class:"far fa-trash-can"},null,-1),Je=[Ze],Ke={class:"text-center"},Qe=e("label",{class:"text-sky-500"},"ADD FILE",-1),We=["src"],Xe={class:"md:flex text-center space-x-2"},Ye={class:"flex-auto p-2 md:text-left"},$e={for:"image"},eo={key:0,class:"text-red-600"},oo={key:1,class:"text-red-600"},to=e("button",{class:"px-4 py-1 mt-2 bg-teal-500/70 shadow-xs text-white rounded hover:bg-teal-700 transition-all"},"UPLOAD",-1),lo=e("div",{class:"bg-teal-500 px-4 py-1 text-white font-bold"},"FILE UPLOAD",-1),so={key:0,class:"bg-red-100 p-2 rounded-2 text-red-500"},ro={for:"file"},no={key:0,class:"text-red-600 text-teal-500"},ao={for:"image",class:"mt-2"},io={key:0,class:"text-red-600"},uo={class:"flex text-center space-x-2 mt-4"},co=e("div",{class:"flex-auto p-2 md:text-left"},null,-1),mo=e("button",{class:"px-4 py-1 mt-2 bg-teal-500/70 shadow-xs text-white rounded hover:bg-teal-700 transition-all"},"UPLOAD",-1);function fo(h,t,o,s,c,f){const k=C("Head"),v=C("Link"),b=C("Modal"),x=C("ConfirmationModal");return a(),n(L,null,[e("div",j,[w(k,{title:"EDIT PLAN"}),e("div",T,[z,w(v,{href:"/plans",class:"rounded bg-secondary-500 text-white hover:bg-secondary-600 transition border border-secondary-500 px-4 py-2"},{default:_(()=>[q,Z]),_:1})]),e("form",{onSubmit:t[10]||(t[10]=S((...l)=>h.upload&&h.upload(...l),["prevent"])),action:"#",class:"capitalize"},[e("div",J,[e("div",K,[e("div",null,[e("label",Q,[u(" type "),o.errors.name?(a(),n("span",W," - "+i(o.errors.name),1)):d("",!0)]),m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.plan.name=l),id:"name",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.name,"border-teal-500":!o.errors.name}])},Y,2),[[U,o.plan.name]])]),e("div",null,[e("label",$,[u(" Price "),o.errors.price?(a(),n("span",ee," - "+i(o.errors.price),1)):d("",!0)]),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.plan.price=l),type:"number",name:"price",id:"price",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.price,"border-teal-500":!o.errors.price}])},null,2),[[g,o.plan.price]])]),e("div",null,[e("label",oe,[u(" style "),o.errors.style?(a(),n("span",te," - "+i(o.errors.style),1)):d("",!0)]),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.plan.style=l),id:"style",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.style,"border-teal-500":!o.errors.style}])},se,2),[[U,o.plan.style]])]),e("div",null,[e("label",re,[u("Roof Finish "),o.errors.roof_finish?(a(),n("span",ne," - "+i(o.errors.roof_finish),1)):d("",!0)]),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.plan.roof_finish=l),name:"roof_finish",id:"roof_finish",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.roof_finish,"border-teal-500":!o.errors.roof_finish}])},ie,2),[[U,o.plan.roof_finish]])])]),e("div",de,[e("div",null,[e("label",ue,[u(" Bedrooms "),o.errors.bedrooms?(a(),n("span",ce," - "+i(o.errors.bedrooms),1)):d("",!0)]),m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.plan.bedrooms=l),type:"number",name:"bedrooms",id:"bedrooms",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.bedrooms,"border-teal-500":!o.errors.bedrooms}])},null,2),[[g,o.plan.bedrooms]])]),e("div",null,[e("label",me,[u(" bathrooms "),o.errors.bathrooms?(a(),n("span",fe," - "+i(o.errors.bathrooms),1)):d("",!0)]),m(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>o.plan.bathrooms=l),type:"number",name:"bathrooms",id:"bathrooms",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.bathrooms,"border-teal-500":!o.errors.bathrooms}])},null,2),[[g,o.plan.bathrooms]])]),e("div",null,[e("label",be,[u(" levels "),o.errors.levels?(a(),n("span",he," - "+i(o.errors.levels),1)):d("",!0)]),m(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>o.plan.levels=l),type:"number",name:"levels",id:"levels",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.levels,"border-teal-500":!o.errors.levels}])},null,2),[[g,o.plan.levels]])]),e("div",null,[e("label",pe,[u(" area "),o.errors.area?(a(),n("span",ge," - "+i(o.errors.area),1)):d("",!0)]),m(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>o.plan.area=l),type:"number",id:"area",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.area,"border-teal-500":!o.errors.area}])},null,2),[[g,o.plan.area]])])]),e("div",ve,[e("label",_e,[u(" Description "),o.errors.description?(a(),n("span",xe," - "+i(o.errors.description),1)):d("",!0)]),m(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=l=>o.plan.description=l),name:"description",id:"description",cols:"30",rows:"5",class:p(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":o.errors.description,"border-teal-500":!o.errors.description}])},null,2),[[g,o.plan.description]])]),e("div",ye,[e("button",{onClick:t[9]||(t[9]=l=>s.update()),class:"bg-teal-500/70 shadow-xs text-white text-2xl py-2 px-4 rounded w-full md:w-1/4 hover:bg-teal-700 transition-all"}," UPDATE ")])])],32),e("div",we,[e("div",ke,[Ce,e("button",{onClick:t[11]||(t[11]=()=>{s.imageUploadShow=!0}),class:"rounded bg-secondary-500 text-white hover:bg-secondary-600 transition border border-secondary-500 px-4 py-2"},Se)]),e("div",Ue,[(a(!0),n(L,null,P(o.images,l=>(a(),n("div",{key:l.id,class:"thumb-bg relative shadow-xs rounded bg-gray-100 hover:bg-gray-300 overflow-hidden hover:scale-105 transition-all"},[e("img",{alt:l.name,src:l.image,class:"w-full aspect-video"},null,8,Le),e("label",He,i(l.name),1),e("button",{onClick:E=>s.showConfirmDelete(l,"image.destroy"),class:"absolute top-1 right-1 text-red-500 p-1 rounded-full bg-red-100/50 hover:bg-red-100 w-8 h-8 transition-all"},Pe,8,Be)]))),128)),e("div",Me,[e("div",{onClick:t[12]||(t[12]=()=>{s.imageUploadShow=!0}),class:"thumb aspect-video border !border-teal-500 p-2 shadow-xs rounded bg-teal-50 hover:bg-gray-300 overflow-hidden hover:scale-95 transition-all"}),Ae])])]),e("div",Re,[e("div",Ve,[Ge,e("button",{onClick:t[13]||(t[13]=()=>{s.fileUploadShow=!0}),class:"rounded bg-secondary-500 text-white hover:bg-secondary-600 transition border border-secondary-500 px-4 py-2"},Ie)]),e("div",je,[(a(!0),n(L,null,P(o.files,l=>(a(),n("div",{key:l.id,class:"thumb-bg relative shadow-xs rounded bg-gray-100 hover:bg-gray-300 overflow-hidden hover:scale-105 transition-all"},[e("img",{alt:l.name,src:O,class:"w-full aspect-video object-contain"},null,8,Te),e("label",ze,i(l.name),1),e("button",{onClick:E=>s.showConfirmDelete(l,"file.destroy"),class:"absolute top-1 right-1 text-red-500 p-1 rounded-full bg-red-100/50 hover:bg-red-100 w-8 h-8 transition-all"},Je,8,qe)]))),128)),e("div",Ke,[e("div",{onClick:t[14]||(t[14]=()=>{s.fileUploadShow=!0}),class:"thumb aspect-video border !border-sky-500 p-2 shadow-xs rounded bg-sky-50 hover:bg-gray-300 overflow-hidden hover:scale-95 transition-all"}),Qe])])])]),w(b,{show:s.imageUploadShow},{default:_(()=>[e("form",{onSubmit:t[19]||(t[19]=S((...l)=>s.imageUpload&&s.imageUpload(...l),["prevent"])),class:"p-1"},[e("div",{class:"thumb shadow-xs rounded bg-gray-100",onClick:t[16]||(t[16]=l=>s.selectFile(1))},[e("img",{alt:"",src:s.preview,class:"w-full aspect-video"},null,8,We),e("input",{onChange:t[15]||(t[15]=l=>s.filePreview(l,"image")),oncancel:"clearimage(this, 0)",accept:"image/*",type:"file",ref:"image",id:"image",class:"hidden"},null,544)]),m(e("input",{"onUpdate:modelValue":t[17]||(t[17]=l=>s.imageForm.name=l),type:"text",class:"block w-full rounded mt-2 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",placeholder:"Image name"},null,512),[[g,s.imageForm.name]]),e("div",Xe,[e("div",Ye,[e("label",$e,[u("Image "),s.imageForm.errors.file?(a(),n("span",eo," - "+i(s.imageForm.errors.file),1)):d("",!0),s.imageForm.errors.name?(a(),n("span",oo," - "+i(s.imageForm.errors.name),1)):d("",!0)])]),e("button",{onClick:t[18]||(t[18]=()=>{s.imageUploadShow=!1}),class:"px-4 py-1 mt-2 bg-gray-300/70 shadow-xs text- rounded hover:bg-gray-400 transition-all"},"CANCEL"),to])],32)]),_:1},8,["show"]),w(b,{show:s.fileUploadShow},{default:_(()=>[lo,e("form",{onSubmit:t[23]||(t[23]=S((...l)=>s.uploadFile&&s.uploadFile(...l),["prevent"])),class:"p-4"},[s.fileForm.errors.file?(a(),n("div",so,i(s.fileForm.errors.file),1)):d("",!0),e("div",null,[e("label",ro,[u("Select a File "),s.fileForm.errors.file?(a(),n("span",no," - "+i(s.fileForm.errors.file),1)):d("",!0)]),e("input",{onChange:t[20]||(t[20]=l=>s.filePreview(l,"file")),type:"file",name:"file",id:"file",class:"border border-teal-500 py-2 bg-white w-full overflow-hidden rounded focus:ring-4 focus:ring-teal-500"},null,32)]),e("label",ao,[u("File Name "),s.fileForm.errors.name?(a(),n("span",io," - "+i(s.fileForm.errors.name),1)):d("",!0)]),m(e("input",{"onUpdate:modelValue":t[21]||(t[21]=l=>s.fileForm.name=l),type:"text",class:"block w-full rounded border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",placeholder:"Image name"},null,512),[[g,s.fileForm.name]]),e("div",uo,[co,e("button",{onClick:t[22]||(t[22]=()=>{s.fileUploadShow=!1}),class:"px-4 py-1 mt-2 bg-gray-300/70 shadow-xs text- rounded hover:bg-gray-400 transition-all"},"CANCEL"),mo])],32)]),_:1},8,["show"]),w(x,{show:s.confirmDelete.show},{title:_(()=>[u(i(s.confirmDelete.title),1)]),content:_(()=>[e("p",null,i(s.confirmDelete.content),1)]),footer:_(()=>[e("button",{onClick:t[24]||(t[24]=()=>{s.confirmDelete.show=!1}),class:"px-4 py-1 mt-2 bg-gray-300/70 shadow-xs text- rounded hover:bg-gray-400 transition-all"},"CANCEL"),e("button",{onClick:t[25]||(t[25]=l=>s.deleteFile()),class:"px-4 py-1 mt-2 bg-teal-500/70 shadow-xs text-white rounded hover:bg-teal-700 transition-all"},"DELETE")]),_:1},8,["show"])],64)}const Co=N(I,[["render",fo]]);export{Co as default};
