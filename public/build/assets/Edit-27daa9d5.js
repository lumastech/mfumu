import{i as M,Z as T,r as g,T as S,h as w,d,a as e,b as h,w as x,j as D,f as u,t as n,e as i,l as m,H as y,n as f,G as L,F as P,g as V,O as E,o as a}from"./app-506644a5.js";import{D as A}from"./DashboardLaout-673dc47b.js";import{_ as z}from"./Modal-acd6f1b1.js";import{L as q}from"./LoadingAnim-b995f9f9.js";import{_ as I}from"./ConfirmationModal-fc3b696e.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const j={components:{DashboardLayout:A,Link:M,Head:T,Modal:z,ConfirmationModal:I,LoadingAnim:q},layout:A,props:{property:Object,errors:Object,images:Object,files:Object,property_types:Object},setup(b,o){const t=g(!1),l=g(!1),v=g(!1),C=g(0),k=g(null),c=S({title:null,price:null,address:null,city:null,state:null,postal_code:null,country:null,bedrooms:null,bathrooms:null,square_feet:null,lot_size:null,property_type_id:null,description:null,status:null}),_=g({show:0,title:"DELETE",content:"are you sure you want to delete this item?",id:null,url:null}),U=g("image"),p=S({file:null,name:null,type:"property",item:b.property.id}),r=g("");return{loader:v,selectFile:s=>{U.value.click()},filePreview:(s,F)=>{F=="image"?(r.value=URL.createObjectURL(s.target.files[0]),p.file=s.target.files[0]):fileForm.file=s.target.files[0]},imageUploadShow:t,fileUploadShow:l,imageForm:p,imageUpload:()=>{t.value=0,v.value=1,E.post(route("image.store"),p,{onSuccess:s=>{t.value=0,p.reset(),p.property=b.property.id,r.value=""},onError:s=>{t.value=1,s&&s.file&&(p.errors.file=s.file),s&&s.name&&(p.errors.name=s.name)},onFinish:()=>{v.value=0}})},deleteFile:()=>{E.delete(route(_.value.url,_.value.id.id),{onSuccess:()=>{_.value.show=0}})},confirmDelete:_,showConfirmDelete:(s,F)=>{_.value.title="DELETE "+s.name+" file?",_.value.content="are you sure you want to delete this item?",_.value.id=s,_.value.url=F,_.value.show=!0},image:U,preview:r,update:()=>{let s=b.property;c.title=s.title,c.price=s.price,c.address=s.address,c.city=s.city,c.state=s.state,c.postal_code=s.postal_code,c.country=s.country,c.bedrooms=s.bedrooms,c.bathrooms=s.bathrooms,c.square_feet=s.square_feet,c.lot_size=s.lot_size,c.property_type_id=s.property_type_id,c.description=s.description,c.status=s.status,c.put(route("property.update",b.property),{onBefore:()=>{v.value=1},onFinish:()=>{v.value=0}})},addpropModal:C,property_type:k,postProperty:()=>{E.post(route("property-type.store"),{name:k.value},{onSuccess:()=>{C.value=0}})}}},mounted(){this.images.length||(this.imageUploadShow=1)}},N={class:"max-w-7xl mx-auto px-2"},B={class:"flex justify-between gap-4 mb-4 place-items-center"},H=e("h1",{class:"md:text-2xl mb-4 flex-auto"},"EDIT PROPERTY",-1),Y=e("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),G=e("span",null,"Back to Property",-1),W={class:"flex bg-sky-500 px-2 py-2 text-white"},Z=e("h1",{class:"flex-auto self-center font-bold"},"Property Details",-1),J={class:"shadow-xs p-4 grid grid-cols-6 gap-4 bg-white/90 rounded"},K={class:"col-span-4"},Q={for:"title"},X={key:0,class:"text-red-600"},$={for:"address"},ee={key:0,class:"text-red-600"},te={for:"city"},oe={key:0,class:"text-red-600"},re={for:"state"},le={key:0,class:"text-red-600"},se={for:"postal_code"},de={key:0,class:"text-red-600"},ae={for:"country"},ne={key:0,class:"text-red-600"},ie={class:"col-span-2"},ue={for:"price"},ce={key:0,class:"text-red-600"},me={for:"bedrooms"},be={key:0,class:"text-red-600"},ye={for:"bathrooms"},fe={key:0,class:"text-red-600"},_e={for:"lot_size"},pe={key:0,class:"text-red-600"},ge={for:"square_feet"},he={key:0,class:"text-red-600"},xe={for:"property_type_id"},ve={key:0,class:"text-red-600"},we=["value"],ke={for:"property_type_id"},Ue={key:0,class:"text-red-600"},Ce=e("option",{value:"active"},"Active",-1),Fe=e("option",{value:"inactive"},"Hide",-1),De=[Ce,Fe],Pe={class:"shadow-xs py-2 px-4 bg-white/90 my-7 rounded"},Ee={for:"description"},Se={key:0,class:"text-red-600"},Le=e("div",{class:"text-right px-4"},[e("button",{class:"bg-secondary-600 shadow-xs text-white text-2xl py-2 px-4 rounded w-full md:w-1/4 hover:bg-secondary-700 transition-all"}," POST ")],-1),Ve={class:"border rounded p-2 md:p-4 max-w-7xl mx-auto bg-white/40"},Ae={class:"flex justify-between gap-4 mb-4 place-items-center"},Oe=e("h1",{class:"md:text-2xl mb-4 flex-auto"},"PROPERTY IMAGES",-1),Me=e("i",{class:"fa-solid fa-plus mr-2"},null,-1),Te=e("span",null,"Upload Image",-1),ze=[Me,Te],qe={class:"thumb-cont grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Ie=["alt","src"],Re={class:"px-2"},je=["onClick"],Ne=e("i",{class:"far fa-trash-can"},null,-1),Be=[Ne],He={class:"text-center"},Ye=e("label",{class:"text-teal-500"},"ADD IMAGE",-1),Ge=e("div",{class:"bg-teal-500 px-4 py-1 text-white font-bold"},"UPLOAD AN IMAGE",-1),We=["src"],Ze={class:"md:flex text-center space-x-2"},Je={class:"flex-auto p-2 md:text-left"},Ke={for:"image"},Qe={key:0,class:"text-red-600"},Xe={key:1,class:"text-red-600"},$e=e("button",{class:"px-4 py-1 mt-2 bg-teal-500/70 shadow-xs text-white rounded hover:bg-teal-700 transition-all"},"UPLOAD",-1),et=e("div",{class:"bg-teal-500 px-4 py-1 text-white font-bold"},"UPLOAD A FILE ",-1),tt={key:0,class:"bg-red-100 p-2 rounded-2 text-red-500"},ot={for:"file"},rt={key:0,class:"text-red-600 text-teal-500"},lt={for:"image",class:"mt-2"},st={key:0,class:"text-red-600"},dt={class:"flex text-center space-x-2 mt-4"},at=e("div",{class:"flex-auto p-2 md:text-left"},null,-1),nt=e("button",{class:"px-4 py-1 mt-2 bg-teal-500/70 shadow-xs text-white rounded hover:bg-teal-700 transition-all"},"UPLOAD",-1),it={class:"flex bg-sky-500 px-2 py-2 text-white"},ut=e("h1",{class:"flex-auto self-center font-bold"},"Property Details",-1),ct=e("i",{class:"fas fa-close"},null,-1),mt=[ct],bt={class:"p-2"},yt={for:"property_type"},ft={key:0,class:"text-red-600"};function _t(b,o,t,l,v,C){const k=w("Head"),c=w("Link"),_=w("Modal"),U=w("ConfirmationModal"),p=w("LoadingAnim");return a(),d(P,null,[e("div",N,[h(k,{title:"EDIT PROPERTY"}),e("div",B,[H,h(c,{href:"/property",class:"rounded bg-secondary-500 text-white hover:bg-secondary-600 transition border border-secondary-500 px-4 py-2"},{default:x(()=>[Y,G]),_:1})]),e("div",W,[Z,e("button",{onClick:o[0]||(o[0]=r=>l.addpropModal=1),class:"px-4 py-2 bg-white text-teal-500 rounded text-sm hover:bg-teal-100 transition"},"ADD PROPERTY TYPE")]),e("form",{onSubmit:o[15]||(o[15]=D((...r)=>l.update&&l.update(...r),["prevent"])),action:"#",class:"capitalize"},[e("div",J,[e("div",K,[e("div",null,[e("label",Q,[u(" Title "),t.errors.title?(a(),d("span",X," - "+n(t.errors.title),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>t.property.title=r),type:"text",name:"title",id:"title",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.title,"border-teal-500":!t.errors.title}])},null,2),[[y,t.property.title]])]),e("div",null,[e("label",$,[u(" Address "),t.errors.address?(a(),d("span",ee," - "+n(t.errors.address),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>t.property.address=r),type:"text",name:"address",id:"address",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.address,"border-teal-500":!t.errors.address}])},null,2),[[y,t.property.address]])]),e("div",null,[e("label",te,[u(" City "),t.errors.city?(a(),d("span",oe," - "+n(t.errors.city),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[3]||(o[3]=r=>t.property.city=r),type:"text",name:"city",id:"city",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.city,"border-teal-500":!t.errors.city}])},null,2),[[y,t.property.city]])]),e("div",null,[e("label",re,[u(" State "),t.errors.state?(a(),d("span",le," - "+n(t.errors.state),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>t.property.state=r),type:"text",name:"state",id:"state",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.state,"border-teal-500":!t.errors.state}])},null,2),[[y,t.property.state]])]),e("div",null,[e("label",se,[u(" Postal_code "),t.errors.postal_code?(a(),d("span",de," - "+n(t.errors.postal_code),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[5]||(o[5]=r=>t.property.postal_code=r),type:"text",name:"postal_code",id:"postal_code",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.postal_code,"border-teal-500":!t.errors.postal_code}])},null,2),[[y,t.property.postal_code]])]),e("div",null,[e("label",ae,[u(" Country "),t.errors.country?(a(),d("span",ne," - "+n(t.errors.country),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[6]||(o[6]=r=>t.property.country=r),type:"text",name:"country",id:"country",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.country,"border-teal-500":!t.errors.country}])},null,2),[[y,t.property.country]])])]),e("div",ie,[e("div",null,[e("label",ue,[u(" Price "),t.errors.price?(a(),d("span",ce," - "+n(t.errors.price),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[7]||(o[7]=r=>t.property.price=r),type:"number",name:"price",id:"price",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.price,"border-teal-500":!t.errors.price}])},null,2),[[y,t.property.price]])]),e("div",null,[e("label",me,[u(" Bedrooms "),t.errors.bedrooms?(a(),d("span",be," - "+n(t.errors.bedrooms),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>t.property.bedrooms=r),type:"number",name:"bedrooms",id:"bedrooms",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.bedrooms,"border-teal-500":!t.errors.bedrooms}])},null,2),[[y,t.property.bedrooms]])]),e("div",null,[e("label",ye,[u(" bathrooms "),t.errors.bathrooms?(a(),d("span",fe," - "+n(t.errors.bathrooms),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[9]||(o[9]=r=>t.property.bathrooms=r),type:"number",name:"bathrooms",id:"bathrooms",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.bathrooms,"border-teal-500":!t.errors.bathrooms}])},null,2),[[y,t.property.bathrooms]])]),e("div",null,[e("label",_e,[u(" lot_size "),t.errors.lot_size?(a(),d("span",pe," - "+n(t.errors.lot_size),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[10]||(o[10]=r=>t.property.lot_size=r),type:"number",name:"lot_size",id:"lot_size",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.lot_size,"border-teal-500":!t.errors.lot_size}])},null,2),[[y,t.property.lot_size]])]),e("div",null,[e("label",ge,[u(" Square_feet "),t.errors.square_feet?(a(),d("span",he," - "+n(t.errors.square_feet),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[11]||(o[11]=r=>t.property.square_feet=r),type:"number",id:"square_feet",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.square_feet,"border-teal-500":!t.errors.square_feet}])},null,2),[[y,t.property.square_feet]])]),e("div",null,[e("label",xe,[u(" Property type "),t.errors.property_type_id?(a(),d("span",ve," - "+n(t.errors.property_type_id),1)):i("",!0)]),m(e("select",{"onUpdate:modelValue":o[12]||(o[12]=r=>t.property.property_type_id=r),id:"property_type_id",placeholder:"select property type",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.property_type_id,"border-teal-500":!t.errors.property_type_id}])},[(a(!0),d(P,null,V(t.property_types,r=>(a(),d("option",{key:r.id,value:r.id,selected:""},n(r.name),9,we))),128))],2),[[L,t.property.property_type_id]])]),e("div",null,[e("label",ke,[u(" Status "),t.errors.status?(a(),d("span",Ue," - "+n(t.errors.status),1)):i("",!0)]),m(e("select",{"onUpdate:modelValue":o[13]||(o[13]=r=>t.property.status=r),id:"status",placeholder:"select property Status",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.status,"border-teal-500":!t.errors.status}])},De,2),[[L,t.property.status]])])])]),e("div",Pe,[e("label",Ee,[u(" Description "),t.errors.description?(a(),d("span",Se," - "+n(t.errors.description),1)):i("",!0)]),m(e("textarea",{"onUpdate:modelValue":o[14]||(o[14]=r=>t.property.description=r),name:"description",id:"description",cols:"30",rows:"5",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.description,"border-teal-500":!t.errors.description}])},null,2),[[y,t.property.description]])]),Le],32),e("div",Ve,[e("div",Ae,[Oe,e("button",{onClick:o[16]||(o[16]=()=>{l.imageUploadShow=!0}),class:"rounded bg-secondary-500 text-white hover:bg-secondary-600 transition border border-secondary-500 px-4 py-2"},ze)]),e("div",qe,[(a(!0),d(P,null,V(t.images,r=>(a(),d("div",{key:r.id,class:"thumb-bg relative shadow-xs rounded bg-gray-100 hover:bg-gray-300 overflow-hidden hover:scale-105 transition-all"},[e("img",{alt:r.name,src:r.image,class:"w-full aspect-video"},null,8,Ie),e("label",Re,n(r.name),1),e("button",{onClick:O=>l.showConfirmDelete(r,"image.destroy"),class:"absolute top-1 right-1 text-red-500 p-1 rounded-full bg-red-100/50 hover:bg-red-100 w-8 h-8 transition-all"},Be,8,je)]))),128)),e("div",He,[e("div",{onClick:o[17]||(o[17]=()=>{l.imageUploadShow=!0}),class:"thumb aspect-video border !border-teal-500 p-2 shadow-xs rounded bg-teal-50 hover:bg-gray-300 overflow-hidden hover:scale-95 transition-all"}),Ye])])])]),h(_,{show:l.imageUploadShow},{default:x(()=>[Ge,e("form",{onSubmit:o[22]||(o[22]=D((...r)=>l.imageUpload&&l.imageUpload(...r),["prevent"])),class:"p-1"},[e("div",{class:"thumb-bg shadow-xs rounded bg-gray-100",onClick:o[19]||(o[19]=r=>l.selectFile(1))},[e("img",{alt:"",src:l.preview,class:"w-full aspect-video"},null,8,We),e("input",{onChange:o[18]||(o[18]=r=>l.filePreview(r,"image")),oncancel:"clearimage(this, 0)",accept:"image/*",type:"file",ref:"image",id:"image",class:"hidden"},null,544)]),m(e("input",{"onUpdate:modelValue":o[20]||(o[20]=r=>l.imageForm.name=r),type:"text",class:"block w-full rounded mt-2 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",placeholder:"Image name"},null,512),[[y,l.imageForm.name]]),e("div",Ze,[e("div",Je,[e("label",Ke,[u("Image "),l.imageForm.errors.file?(a(),d("span",Qe," - "+n(l.imageForm.errors.file),1)):i("",!0),l.imageForm.errors.name?(a(),d("span",Xe," - "+n(l.imageForm.errors.name),1)):i("",!0)])]),e("button",{onClick:o[21]||(o[21]=()=>{l.imageUploadShow=!1}),class:"px-4 py-1 mt-2 bg-gray-300/70 shadow-xs text- rounded hover:bg-gray-400 transition-all"},"CANCEL"),$e])],32)]),_:1},8,["show"]),h(_,{show:l.fileUploadShow},{default:x(()=>[et,e("form",{onSubmit:o[26]||(o[26]=D((...r)=>b.uploadFile&&b.uploadFile(...r),["prevent"])),class:"p-4"},[b.fileForm.errors.file?(a(),d("div",tt,n(b.fileForm.errors.file),1)):i("",!0),e("div",null,[e("label",ot,[u("Select a File "),b.fileForm.errors.file?(a(),d("span",rt," - "+n(b.fileForm.errors.file),1)):i("",!0)]),e("input",{onChange:o[23]||(o[23]=r=>l.filePreview(r,"file")),type:"file",name:"file",id:"file",class:"border border-teal-500 py-2 bg-white w-full overflow-hidden rounded focus:ring-4 focus:ring-teal-500"},null,32)]),e("label",lt,[u("File Name "),b.fileForm.errors.name?(a(),d("span",st," - "+n(b.fileForm.errors.name),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[24]||(o[24]=r=>b.fileForm.name=r),type:"text",class:"block w-full rounded border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",placeholder:"Image name"},null,512),[[y,b.fileForm.name]]),e("div",dt,[at,e("button",{onClick:o[25]||(o[25]=()=>{l.fileUploadShow=!1}),class:"px-4 py-1 mt-2 bg-gray-300/70 shadow-xs text- rounded hover:bg-gray-400 transition-all"},"CANCEL"),nt])],32)]),_:1},8,["show"]),h(U,{show:l.confirmDelete.show},{title:x(()=>[u(n(l.confirmDelete.title),1)]),content:x(()=>[e("p",null,n(l.confirmDelete.content),1)]),footer:x(()=>[e("button",{onClick:o[27]||(o[27]=()=>{l.confirmDelete.show=!1}),class:"px-4 py-1 mt-2 bg-gray-300/70 shadow-xs text- rounded hover:bg-gray-400 transition-all"},"CANCEL"),e("button",{onClick:o[28]||(o[28]=r=>l.deleteFile()),class:"px-4 py-1 mt-2 bg-teal-500/70 shadow-xs text-white rounded hover:bg-teal-700 transition-all"},"DELETE")]),_:1},8,["show"]),h(_,{show:l.addpropModal,maxWidth:"sm"},{default:x(()=>[e("div",it,[ut,e("button",{onClick:o[29]||(o[29]=()=>{l.addpropModal=0})},mt)]),e("div",bt,[e("label",yt,[u(" Property Type "),t.errors.property_type?(a(),d("span",ft," - "+n(t.errors.property_type),1)):i("",!0)]),m(e("input",{"onUpdate:modelValue":o[30]||(o[30]=r=>l.property_type=r),type:"text",id:"property_type",class:f(["block w-full rounded mb-3 border-teal-500 rounded-md focus:ring-2 focus:ring-teal-500",{"border-red-500":t.errors.property_type,"border-teal-500":!t.errors.property_type}])},null,2),[[y,l.property_type]]),e("button",{onClick:o[31]||(o[31]=(...r)=>l.postProperty&&l.postProperty(...r)),class:"px-4 py-2 bg-teal-500 text-white rounded text-sm hover:bg-teal-600 transition"},"SAVE")])]),_:1},8,["show"]),h(p,{show:l.loader},null,8,["show"])],64)}const Et=R(j,[["render",_t]]);export{Et as default};
